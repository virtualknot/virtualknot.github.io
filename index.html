<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Create Your Own Knot</title>
  <script src="https://aframe.io/releases/0.2.0/aframe.min.js"></script>
  <script src="https://code.jquery.com/jquery-2.1.1.js"></script>
  <script src="https://rawgit.com/ngokevin/aframe-text-component/master/dist/aframe-text-component.min.js"></script>
</head>
<body>
  <a-scene>
    <!-- cam -->
    <a-entity id="camera" rotation="0 0 0" position="0 0 5">
      <a-camera>
        <a-entity cursor="maxDistance:10000" position="0 0 -1" geometry="primitive:ring; color:pink; radiusInner:.005; radiusOuter:.01"></a-entity>
      </a-camera>
    </a-entity>
    <!-- #knot -->
    <a-entity id="knot">
      <a-entity id="knott" geometry="primitive:torusKnot; p:" + pVal + "; q:" + qVal+ ";" material="color:#D5573B"></a-entity>
    </a-entity>
    <!-- knot p and q val buttons -->
    <a-entity>
      <a-entity id="upP" geometry="primitive:plane" scale=".7 .7 .7" position ="-3.5 1 0" material="src:url(https://cdn4.iconfinder.com/data/icons/ionicons/512/icon-arrow-up-b-128.png)"</a-entity>
    </a-entity>
    <a-entity>
      <a-entity id="downP" geometry="primitive:plane" scale=".7 .7 .7" position ="-3.5 -1 0" material="src:url(https://cdn4.iconfinder.com/data/icons/ionicons/512/icon-arrow-down-b-128.png)"</a-entity>
    </a-entity>
    <a-entity>
      <a-entity id="upQ" geometry="primitive:plane" scale=".7 .7 .7" position ="-2.5 1 0" material="src:url(https://cdn4.iconfinder.com/data/icons/ionicons/512/icon-arrow-up-b-128.png)"</a-entity>
    </a-entity>
    <a-entity>
      <a-entity id="downQ" geometry="primitive:plane" scale=".7 .7 .7" position ="-2.5 -1 0" material="src:url(https://cdn4.iconfinder.com/data/icons/ionicons/512/icon-arrow-down-b-128.png)"</a-entity>
    </a-entity>
    <!-- to have button descriptions for the knot's p and q value -->
    <a-entity class="vals pValText" position="-3.75 0 0" material="color:purple" scale=".4 .4 .4" text="text:pVal"></a-entity>
    <a-entity class="vals qValText" position="-2.75 0 0" material="color:#F7CAC9" scale=".4 .4 .4" text="text:qVal"></a-entity>
    <!-- radius button and descriptions -->
    <a-entity class="vals radiusText" position="2.15 0 0" material="color:#F7CAC9" scale=".4 .4 .4" text="text:radius"></a-entity>
    <a-entity>
      <a-entity id="upRadius" geometry="primitive:plane" scale=".7 .7 .7" position ="2.5 1 0" material="src:url(https://cdn4.iconfinder.com/data/icons/ionicons/512/icon-arrow-up-b-128.png)"</a-entity>
    </a-entity>
    <a-entity>
      <a-entity id="downRadius" geometry="primitive:plane" scale=".7 .7 .7" position ="2.5 -1 0" material="src:url(https://cdn4.iconfinder.com/data/icons/ionicons/512/icon-arrow-down-b-128.png)"</a-entity>
    </a-entity>
    <a-sky color="#777DA7"></a-sky>
  </a-scene>
  <script>
  //mind your p's and q's
  var pVal = 2;
  var qVal = 3;
  var radius = 0.2;
  var rotation = "0 0 0";
  // updated knot after value knot changes, refactor
  var refreshKnot = function() {
    return $('#knott').attr("geometry", "primitive:torusKnot; p:" + pVal + "; q:" + qVal + "; radiusTubular:" + radius +";");
  };
  // updates value text tags after knot changes, refactor
  var valText = function(target, val) {
    $(target).attr("text", "text:pVal: " + val);
  };
  // updates radius text tags after radius changes, refactor
  var radiusText = function() {
    return $('.radiusText').attr("text", "text:radius: " + radius.toFixed(2));
  };
  //button actions
  $('#upP').on('click', function() {
    pVal++
    refreshKnot();
    valText('.pValText', pVal);
  });
  $('#downP').on('click', function() {
    pVal--
    refreshKnot();
    valText('.pValText', pVal);
  });
  $('#upQ').on('click', function() {
    qVal++
    refreshKnot();
    valText('.qValText', qVal);
  });
  $('#downQ').on('click', function() {
    qVal--
    refreshKnot();
    valText('.qValText', qVal);
  });
  $('#upRadius').on('click', function() {
    radius = radius + .01;
    refreshKnot();
    radiusText();
  });
  $('#downRadius').on('click', function() {
    radius = radius - .01;
    refreshKnot();
    radiusText();
  });
  </script>
</body>
</html>
